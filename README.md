vue 源码逐行注释分析
==========

vue 源码业余时间差不多看了一年，以前在网上找帖子，发现很多帖子很零散，都是一部分一部分说，断章的很多，所以自己下定决定一行行看，经过自己坚持与努力，现在基本看完了，差 ddf 那部分，因为考虑到自己要换工作了，所以暂缓下来先，ddf 那块后期我会补上去。这个 vue 源码逐行分析，我基本每一行都打上注释，加上整个框架的流程思维导图，基本上是小白也能看懂的 vue 源码了。
     
说的非常的详细，里面的源码注释，有些是参考网上帖子的，有些是自己多年开发 vue 经验而猜测的，有些是自己跑上下文程序知道的，本人水平可能有限，不一定是很正确，如果有不足的地方可以联系我 QQ 群 ：302817612  修改，或者发邮件给我 281113270@qq.com 谢谢。 

1. vue 源码解读流程 1. `new Vue` 调用的是 `Vue.prototype._init` 从该函数开始经过 `$options` 参数合并之后 `initLifecycle` 初始化生命周期标志初始化事件，初始化渲染函数。初始化状态就是数据。把数据添加到观察者中实现双数据绑定。

2. 双数据绑定原理是：`obersve()` 方法判断 `value` 没有没有 `__ob___` 属性并且是不是 `Obersve` 实例化的，`value` 是不是 `Vonde` 实例化的，如果不是则调用 `Obersve` 去把数据添加到观察者中，为数据添加 `__ob__` 属性， `Obersve` 则调用 `defineReactive` 方法，该方法是连接 `Dep` 和`wacther` 方法的一个通道，利用 `Object.definpropty()` 中的 `get` 和 `set` 方法监听数据。`get` 方法中是 `new Dep` 调用 `depend()`。为 `dep` 添加一个 `wacther` 类，`watcher` 中有个方法是更新视图的是 `run` 调用 `update` 去更新 `vonde` 然后更新视图。 然后 `set` 方法就是调用 `dep` 中的 `notify` 方法调用 `wacther` 中的 `run` 更新视图

3. vue 从字符串模板怎么到真实的 dom 呢？是通过 `$mount` 挂载模板，就是获取到 html，然后通过 `paseHTML` 这个方法转义成 ast 模板，他大概算法是  `while(html)` 如果匹配到开始标签，结束标签，或者是属性，都会截取掉 html，然后收集到一个对象中，知道循环结束 html 被截取完。最后变成一个 ast 对象，ast 对象好了之后，在转义成 vonde 需要渲染的函数，比如 `_c('div'  s(''))`  等这类的函数，编译成 vonde 虚拟 dom。然后到 `updata` 更新数据 调用 `__patch__` 把 vonde 通过 ddf 算法变成正真正的 dom 元素。

具体看我源码和流程图，这里文字就不描述这么多了，流程图是下面这中的网盘，源码是 vue.js,基本每一行都有注释，然后 ddf 待更新中

链接：https://pan.baidu.com/s/10IxV6mQ2TIwkRACKu2T0ng  
提取码：1fnu 

上面出了 vue 文件其他是我平时看源码中的小 deom

作者：姚观寿
